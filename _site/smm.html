<!DOCTYPE html>
<html>

<head>
  
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1">

<!-- CSS -->
<link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
<link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
<link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<title>Saffire Memory Manager</title>


</head>

<body>
  <div id="container">
      <img src="http://saffire-lang.org/images/logo.png" align="right">
    <div class="inner">
      <header>
        <h1><a href="/"></a></h1>
      </header>

      <section id="main_content">
        <header class="post-header">
    <h1>Saffire Memory Manager</h1>
    <p class="meta">Jan 1, 2015 â€¢ Joshua Thijssen</p>
</header>

<h1 id="saffire-memory-manager">Saffire Memory Manager</h1>
<p>At this moment, there is no real memory manager that takes care of memory management. There is no real reason for it now, however, we might need it later on.</p>

<p>This is why there are <code>smm_*</code> functions that deal with this, which can be found in <code>src/components/general/smm.c</code>. It defines functions like <code>smm_malloc()</code>, <code>smm_free()</code> etc, which internally just call <code>malloc()</code> and <code>free()</code>.</p>

<p>A nice feature is that we can easily see how much memory we are internall using (we can keep books through smm_malloc etc). We could even create different groups for allocation: for instance, buffers, strings, objects, generic etc, so we have a nice overview on how much memory we use on strings, how much on creating objects, how much on using (memory) buffers etc.</p>

<p>Make sure you always use the <code>smm_malloc()</code> function instead of <code>malloc()</code>. Some C functions will use <code>malloc()</code> internally to create buffers. On those occasions either must duplicate the buffer into a <code>smm_malloc()</code> one, or just deal with the fact that we miss some memory in our bookkeeping later on.</p>

<p>The SMM_* functionality also means we can easily create our own custom (slab) allocator later on.</p>


      </section>
      <footer>
        
tactile-theme is maintained by <a href="https://github.com/jasonlong">jasonlang</a><br/>
jekyll-tactile-theme is maintained by <a href="https://github.com/ankur-gupta">ankur-gupta</a><br/>

      </footer>
    </div>
  </div>
</body>

</html>
